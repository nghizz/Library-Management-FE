<div *ngIf="isLoading" class="loading">Đang tải...</div>

<div *ngIf="!isLoading" class="book-list-container">
  <h2>Danh sách Sách</h2>

  <!-- Tìm kiếm sách -->
  <div class="search-box">
    <input type="text" [(ngModel)]="searchTerm" placeholder="Tìm kiếm sách..." (input)="onSearch()">
  </div>

  <!-- Nút thêm sách -->
  <button class="btn btn-add" (click)="onAddBook()">Thêm Sách</button>

  <!-- Bảng danh sách sách -->
  <table class="book-table">
    <thead>
      <tr>
        <th><input type="checkbox" (change)="onSelectAll($event)" /></th> <!-- Checkbox để chọn tất cả -->
        <th>Tên sách</th>
        <th>Tác giả</th>
        <th>Thể loại</th>
        <th>Chi tiết</th>
        <th>Thao tác</th>
        <th>Hành động</th> <!-- Thêm cột cho các nút thao tác -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let book of books">
        <td>
          <input type="checkbox" [(ngModel)]="book.selected" (change)="onSelectionChange()" />
        </td>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.category }}</td>
        <td>
          <button class="btn btn-details" (click)="onViewDetails(book.id)">Xem</button>
        </td>
        <td>
          <button class="btn btn-edit" (click)="onEditBook(book.id)">Sửa</button>
        </td>
        <td>
          <button class="btn btn-delete" (click)="onDeleteBook(book.id)">Xóa</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Nút mượn sách -->
  <button class="btn btn-borrow" (click)="onBorrowBooks()">Mượn Sách</button>
</div>
