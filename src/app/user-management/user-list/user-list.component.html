<div *ngIf="isLoading" class="loading">Đang tải...</div>
<div *ngIf="!isLoading" class="user-list-container">
  
<h2>DANH SÁCH SINH VIÊN</h2>

<div class="search-box">
  <label for="search-input">Tìm kiếm:</label> 
  <input type="text" id="search-input" placeholder="Tìm kiếm khách hàng..." [(ngModel)]="searchTerm" (input)="searchCustomers()">
  <button routerLink="/users/add" class="btn btn-add">Thêm khách hàng</button>
</div>

<table>
  <thead>
    <tr>
      <th>CCCD</th>
      <th>Họ và tên</th>
      <th>Mã sinh viên</th>
      <th>Email</th>
      <th>Số điện thoại</th>
      <th>Ngày tạo</th>
      <th>Ngày cập nhật</th>
      <th>Thao tác</th>
    </tr>
  </thead>
  <tbody *ngIf="customers.length > 0">
    <tr *ngFor="let customer of customers">
      <td>{{ customer.cccd }}</td>
      <td>{{ customer.fullName }}</td>
      <td>{{ customer.studentId }}</td>
      <td>{{ customer.email }}</td>
      <td>{{ customer.phoneNumber }}</td>
      <td>{{ customer.creatAt | date: 'dd/MM/yyyy HH:mm:ss' }}</td>
      <td>{{ customer.updateAt | date: 'dd/MM/yyyy HH:mm:ss' }}</td>
      <td>
        <button (click)="editCustomer(customer)">Sửa</button>
        <button (click)="deleteCustomer(customer.id)">Xóa</button>
      </td>
    </tr>
  </tbody>
  <tbody *ngIf="customers.length === 0">
    <tr>
      <td colspan="8" class="text-center">Không có khách hàng</td>
    </tr>
  </tbody>
</table>
</div>